((function(){var a=this,b=function(){var a=[],b=function(a,b,c,d){var e=isNaN(a)?0:a<0?0:a>c?c:a,f=isNaN(b)?d||e:b<0?0:b>c?c:b;return e<f?[e,f]:[f,e]},c=function(a){var b=a.getUTCHours(),c=a.getUTCMinutes(),d=a.getUTCSeconds();return(b<10?"0"+b:b)+":"+(c<10?"0"+c:c)+":"+(d<10?"0"+d:d)};return{on:function(a,b){return this[a]||(this[a]=[]),this[a].push(b),this},onTimes:function(a,b){var d="1/01/2001 ",e=c(new Date(d+a)),f=b?c(new Date(d+b)):e,g=e<f?[e,f]:[f,e];return this.on("time",g)},onSecs:function(a,c){return this.on("sec",b(a,c,59))},onMins:function(a,c){return this.on("min",b(a,c,59))},onHours:function(a,c){return this.on("hour",b(a,c,23))},onDaysOfWeek:function(a,c){return this.on("dayOfWeek",b(a,c,6))},onWeekends:function(){return this.on("dayOfWeek",[0,0]).on("dayOfWeek",[6,6])},onWeekdays:function(){return this.on("dayOfWeek",[1,5])},onDaysOfMonth:function(a,c){return this.on("dayOfMonth",b(a,c,32))},onLastDayOfMonth:function(){return this.on("dayOfMonth",[32,32])},onDayInstancesOfMonth:function(a,c){return this.on("dayInstanceOfMonth",b(a-1,c?c-1:c,6))},onLastDayInstanceOfMonth:function(){return this.on("dayInstanceOfMonth",[6,6])},onDaysOfYear:function(a,c){return this.on("dayOfYear",b(a,c,367))},onLastDayOfYear:function(){return this.on("dayOfYear",[367,367])},onWeeksOfMonth:function(a,c){return this.on("weekOfMonth",b(a,c,6))},onLastWeekOfMonth:function(a,b){return this.on("weekOfMonth",[6,6])},onWeeksOfYear:function(a,c){return this.on("weekOfYear",b(a,c,52))},onMonths:function(a,c){return this.on("month",b(a-1,c?c-1:c,11))},onYears:function(a,c){return this.on("year",b(a,c,3e3))},every:function(a,b,c){for(var d=c[0];d<=c[1];d+=b)this.on(a,d,d);return this},everySecs:function(a,c,d){return this.every("sec",a,b(c,d,59,59))},everyMins:function(a,c,d){return this.every("min",a,b(c,d,59,59))},everyHours:function(a,c,d){return this.every("hour",a,b(c,d,23,23))},everyDaysOfMonth:function(a,c,d){return this.every("dayOfMonth",a,b(c,d,32,32))},everyDaysOfYear:function(a,c,d){return this.every("dayOfYear",a,b(c,d,365,367))},everyMonths:function(a,c,d){return this.every("month",a,b(c-1,d?d-1:d,11,11))},everyYears:function(a,c,d){return this.every("year",a,b(c,d,3e3,3e3))}}};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=b),exports.schedule=b):a.schedule=b})).call(this),function(){var a=this,b=function(a){var a=a,b=function(a,b){var c,e,f=a.length,g;for(e=0;e<f;e++){g=d(a[e],b);if(!c||g<c)c=g}return c},c=function(a,b,c,d,e,f,g){a.setTime(Date.UTC(b,c||0,d||1,e||0,f||0,g||0))},d=function(a,b){var d=b,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;while(d){i=d.getUTCFullYear();if((g=e(i,a.year,0))!=i){g>i?c(d,g):d=null;continue}var y=new Date;c(y,i,0,1);var z=new Date;c(z,i+1,0,0),p=Math.ceil((d-y+1)/864e5),x=Math.ceil((z-y)/864e5);if((g=e(p,a.dayOfYear,0))!=p){if(g>=367&&p!=x){c(d,i,0,x);continue}if(g<367){c(d,i+(g<p?1:0),0,g);continue}}o=d.getUTCDay(),m=Math.ceil((p-o)/7);if((g=e(m,a.weekOfYear,0))!=m){i+=g<m?1:0,d.setTime((new Date(i,0,1)).valueOf()+864e5*g*7);continue}j=d.getUTCMonth();if((g=e(j,a.month,12))!=j){c(d,i,g);continue}k=d.getUTCDate(),u=new Date(i,j+1,0),v=u.getUTCDate();if((g=e(k,a.dayOfMonth,0))!=k){if(g>=32&&k!=v){c(d,i,j,v);continue}if(g<32){c(d,i,j+(g<k?1:0),g);continue}}l=Math.floor((k-1)/7);if((g=e(l,a.dayInstanceOfMonth,0))!=l){if(g>=6&&k<v-6){c(d,i,j,v-6);continue}if(g<6){c(d,i,j+(g<l?1:0),1+7*g);continue}}n=Math.ceil(k/7),w=v-u.getUTCDay();if((g=e(n,a.weekOfMonth,0))!=n){if(g>=6&&k<w){c(d,i,j,w);continue}if(g<6){var A=new Date;c(A,i,j+(g<n?1:0),1);var B=A.getUTCDay();c(d,i,j+(g<n?1:0),g===1?1:7*g-B-6);break}}if((g=e(o,a.dayOfWeek,0))!=o){c(d,i,j,k+(g<o?7-o:g-o));continue}r=d.getUTCHours();if((g=e(r,a.hour,24))!=r){c(d,i,j,k,g);continue}s=d.getUTCMinutes();if((g=e(s,a.min,60))!=s){c(d,i,j,k,r,g);continue}t=d.getUTCSeconds();if((g=e(t,a.sec,60))!=t){c(d,i,j,k,r,s,g);continue}q=(r<10?"0"+r:r)+":"+(s<10?"0"+s:s)+":"+(t<10?"0"+t:t);if((g=e(q,a.time,0))!=q){h=g.split(":"),c(d,i,j,k+(g<q?1:0),h[0],h[1],h[2]);continue}break}return d},e=function(a,b,c){if(!b)return a;var d,e,f=b.length,g,h;for(var i=0;i<f;i++){g=b[i][0],h=b[i][0];if(g<=a&&h>=a)return a;if(!d||g<d)d=g;g>a&&(!e||g<e)&&(e=g)}return e||d+c},f=function(a){var a=a,b,c,d,e,f,g,h,i;return{year:b||(b=a.getUTCFullYear()),month:d||(d=a.getUTCMonth()),dayOfMonth:e||(e=a.getUTCDate()),dayOfWeek:f||(f=a.getUTCDay()),hour:g||(g=a.getUTCHours()),minute:h||(h=a.getUTCMinutes()),second:i||(i=a.getUTCSeconds())}};return{resolution:a,getNext:function(c,d,e){var f=new Date(e.getTime())||new Date,g=c.length?c:new Array(c),h=d||1,i=[],j;while(h){j=b(g,f),i.push(j);if(!j)break;f=new Date(j.getTime()+a*1e3),h--}return d===1?i[0]:i}}};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=b),exports.scheduler=b):a.scheduler=b}.call(this);